# libaio 的io_submit 是线程安全的吗？

突然想到这个问题，`io_submit` 涉及到 `aio_context_t` ，那 `io_submit` 是线程安全的吗，两个线程中是完成可以访问同一个 `aio_context_t` 的。

在网上简单搜索了一下，没有找到答案，思考了一下，这里其实是不用考虑线程安全的问题，因为我们完全可以避免出现竟态的行为，因为 `io_submit` 一次可以提交多个 IO，那么我们完全没有必要在多个线程中进行提交，完全可以做一个 `io_queue`,  当队列中的IO数量达到一个 `batch_size` ，然后进行一次提交，而qemu就是这样实现的。

因此这里玩去不用考虑 `io_submit`的并发问题。
